async function initializeSettings(){try{await waitForModules(),window.SettingsUtils&&window.SettingsUtils.initializeUI&&window.SettingsUtils.initializeUI(),window.SettingsCore&&window.SettingsCore.loadConfiguration&&await window.SettingsCore.loadConfiguration();const t=document.getElementById("settings-form");t&&window.SettingsCore&&window.SettingsCore.saveSettings&&t.addEventListener("submit",window.SettingsCore.saveSettings),hideLoadingState(),console.log("Settings page initialized successfully")}catch(t){console.error("Failed to initialize settings page:",t),window.SettingsCore&&window.SettingsCore.showMessage&&window.SettingsCore.showMessage("Failed to initialize settings page: "+t.message,"error")}}async function waitForModules(){let t=0;for(;t<5e3;){if(window.SettingsCore&&window.LEDConfig&&window.SettingsUtils)return;await new Promise(t=>setTimeout(t,100)),t+=100}throw new Error("Timeout waiting for settings modules to load")}async function loadConfiguration(){if(window.SettingsCore&&window.SettingsCore.loadConfiguration)return window.SettingsCore.loadConfiguration()}function hideLoadingState(){const t=document.getElementById("loading-state"),e=document.getElementById("settings-navigation"),i=document.getElementById("settings-form");t&&(t.style.display="none"),e&&e.classList.remove("hidden"),i&&(i.classList.remove("hidden"),showSettingsSection("wifi"))}function showSettingsSection(t){document.querySelectorAll(".settings-section").forEach(t=>{t.classList.add("hidden")});const e=document.getElementById(`${t}-section`);e&&e.classList.remove("hidden");document.querySelectorAll(".section-nav-btn").forEach(t=>{t.classList.remove("active")});const i=document.querySelector(`[onclick="showSettingsSection('${t}')"]`);i&&i.classList.add("active")}async function saveSettings(t){if(window.SettingsCore&&window.SettingsCore.saveSettings)return window.SettingsCore.saveSettings(t)}async function saveSettings(t){if(window.SettingsCore&&window.SettingsCore.saveSettings)return window.SettingsCore.saveSettings(t)}function showMessage(t,e){if(window.SettingsCore&&window.SettingsCore.showMessage)return window.SettingsCore.showMessage(t,e)}function toggleUnbiddenInkSettings(){if(window.SettingsUtils&&window.SettingsUtils.toggleUnbiddenInkSettings)return window.SettingsUtils.toggleUnbiddenInkSettings()}function goBack(){if(window.SettingsUtils&&window.SettingsUtils.goBack)return window.SettingsUtils.goBack()}function updateTimeRange(){if(window.SettingsUtils&&window.SettingsUtils.updateTimeRange)return window.SettingsUtils.updateTimeRange()}window.showSettingsSection=showSettingsSection,window.hideLoadingState=hideLoadingState,window.saveSettings=saveSettings,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeSettings):initializeSettings();