<!DOCTYPE html>
<html lang="en" class="app-root">

<head>
    <title>404 - Paper Jam | Scribe Printer</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/404.min.css">
    <script src="/js/alpine.min.js" defer></script>
    <script src="/js/app.min.js"></script>
    <script src="/js/404-alpine.min.js"></script>
</head>

<body class="page-body" x-data="ErrorStore()" x-init="init()">
    <main class="page-main">
        <!-- Header with title and back button -->
        <header class="page-header">
            <!-- Back button -->
            <div class="header-spacer">
                <button @click="goBack()" class="back-button">
                    <svg class="w-3 h-3 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    <span class="text-xs sm:text-sm font-medium">Back</span>
                </button>
            </div>

            <!-- Centered title -->
            <div class="header-center">
                <h1 class="page-title">
                    <span class="text-4xl sm:text-5xl" :class="errorIconClass">üóëÔ∏è</span>
                    <span>Paper Jam</span>
                </h1>
            </div>

            <!-- Right spacer -->
            <div class="header-spacer"></div>
        </header>

        <!-- Main Error Content -->
        <div 
            x-show="showContent"
            x-transition:enter="transition ease-out duration-600 transform"
            x-transition:enter-start="translate-y-8 opacity-0"
            x-transition:enter-end="translate-y-0 opacity-100"
            class="error-container">
            
            <div class="error-card">
                <div class="error-code">404 Not Found</div>
                <p class="error-message" x-text="errorMessage"></p>

                <!-- Request Details -->
                <div class="error-details">
                    <strong class="error-details-title">Request Details:</strong><br>
                    <div class="error-details-content">
                        <div>
                            Method: 
                            <span class="error-details-item" x-text="method" data-error-method="{{METHOD}}"></span>
                        </div>
                        <div>
                            Path: 
                            <span class="error-details-item" x-text="path" data-error-path="{{URI}}"></span>
                        </div>
                        <div>
                            Time: 
                            <span class="error-details-item" x-text="new Date().toLocaleString()"></span>
                        </div>
                    </div>
                </div>

                <!-- Helpful Suggestions -->
                <div class="error-suggestions">
                    <strong class="error-suggestions-title">Try these instead:</strong>
                    <ul class="error-suggestions-list">
                        <template x-for="suggestion in suggestions" :key="suggestion">
                            <li x-text="suggestion"></li>
                        </template>
                    </ul>
                </div>

                <!-- Action Buttons -->
                <div class="error-actions">
                    <button @click="goHome()" class="error-btn error-btn-primary">
                        üè† Go Home
                    </button>
                    <button @click="tryAgain()" class="error-btn error-btn-secondary">
                        üîÑ Try Again
                    </button>
                    <button @click="goToSettings()" class="error-btn error-btn-secondary">
                        ‚öôÔ∏è Settings
                    </button>
                    <button @click="goToDiagnostics()" class="error-btn error-btn-secondary">
                        üõ†Ô∏è Diagnostics
                    </button>
                </div>

                <!-- Advanced Options -->
                <details class="error-advanced">
                    <summary class="error-advanced-summary">
                        üìã Advanced Options
                    </summary>
                    <div class="error-advanced-content">
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                            Need to report this error? Copy the details below:
                        </p>
                        <button @click="copyErrorDetails()" 
                                class="error-btn error-btn-small">
                            üìã Copy Error Details
                        </button>
                        
                        <!-- Debug Information -->
                        <div class="mt-4 p-3 bg-gray-100 dark:bg-gray-800 rounded text-xs font-mono">
                            <div>Timestamp: <span x-text="timestamp"></span></div>
                            <div>User Agent: <span x-text="navigator.userAgent.substring(0, 50) + '...'"></span></div>
                            <div>Referrer: <span x-text="document.referrer || 'Direct access'"></span></div>
                        </div>
                    </div>
                </details>

                <!-- Printer Status -->
                <div class="error-status">
                    <div class="error-status-indicator">
                        <span class="error-status-light"></span>
                        <span class="error-status-text">Printer Status: Online</span>
                    </div>
                    <div class="error-status-note">
                        The thermal printer is ready and waiting for your next print job.
                    </div>
                </div>
            </div>
        </div>

        <!-- Fun Facts Section -->
        <div 
            x-show="showContent"
            x-transition:enter="transition ease-out duration-600 transform delay-300"
            x-transition:enter-start="translate-y-8 opacity-0"
            x-transition:enter-end="translate-y-0 opacity-100"
            class="error-fun-facts">
            
            <div class="error-card">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3">
                    üéØ Did You Know?
                </h3>
                <p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
                    HTTP 404 errors got their name from room 404 at CERN, where the original web servers lived. 
                    When a file couldn't be found, it was often because someone had physically moved it from room 404!
                </p>
                
                <div class="mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                    <div class="text-sm text-blue-800 dark:text-blue-300">
                        üí° <strong>Tip:</strong> Most pages on this Scribe printer can be accessed directly by typing their name in the URL, 
                        like <code>/settings</code> or <code>/diagnostics</code>.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Easter Egg: Hidden Konami Code -->
    <div x-data="{ konamiCode: '', konamiSequence: 'ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightKeyBKeyA' }"
         @keydown.window="
            konamiCode += $event.code;
            if (konamiCode.length > konamiSequence.length) {
                konamiCode = konamiCode.slice(-konamiSequence.length);
            }
            if (konamiCode === konamiSequence) {
                alert('üéâ Konami Code activated! The printer has gained sentience... just kidding, it\'s still a thermal printer.');
                konamiCode = '';
            }
         ">
    </div>
</body>

</html>